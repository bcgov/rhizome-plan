import{aJ as M,P as _,O as v,ah as N,S as P,I as x,F as V,aK as F,aL as b,aM as I,V as m,N as O,ab as g,L as w,h as k,G as y,T as R,aN as B,b as D,a as C,aO as W,ac as j,aP as q,E as G,a2 as z}from"./CG8499qX.js";function te(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}const J=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function ae(e){return J.includes(e)}const K={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function re(e){return e=e.toLowerCase(),K[e]??e}const U=["touchstart","touchmove"];function se(e){return U.includes(e)}const X=["textarea","script","style","title"];function ie(e){return X.includes(e)}const H=new Set,Q=new Set;function Y(e,t,i,s={}){function r(a){if(s.capture||Z.call(t,a),!a.cancelBubble)return F(()=>i?.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?V(()=>{t.addEventListener(e,r,s)}):t.addEventListener(e,r,s),r}function ne(e,t,i,s={}){var r=Y(t,e,i,s);return()=>{e.removeEventListener(t,r,s)}}function oe(e){for(var t=0;t<e.length;t++)H.add(e[t]);for(var i of Q)i(e)}let E=null;function Z(e){var t=this,i=t.ownerDocument,s=e.type,r=e.composedPath?.()||[],a=r[0]||e.target;E=e;var n=0,o=E===e&&e.__root;if(o){var c=r.indexOf(o);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var l=r.indexOf(t);if(l===-1)return;c<=l&&(n=c)}if(a=r[n]||e.target,a!==t){M(e,"currentTarget",{configurable:!0,get(){return a||i}});var T=P,S=x;_(null),v(null);try{for(var u,p=[];a!==null;){var h=a.assignedSlot||a.parentNode||a.host||null;try{var f=a["__"+s];if(f!=null&&(!a.disabled||e.target===a))if(N(f)){var[A,...L]=f;A.apply(a,[e,...L])}else f.call(a,e)}catch(d){u?p.push(d):u=d}if(e.cancelBubble||h===t||h===null)break;a=h}if(u){for(let d of p)queueMicrotask(()=>{throw d});throw u}}finally{e.__root=t,delete e.currentTarget,_(T),v(S)}}}class ${anchor;#a=new Map;#t=new Map;#e=new Map;#r=!0;constructor(t,i=!0){this.anchor=t,this.#r=i}#s=()=>{var t=b;if(this.#a.has(t)){var i=this.#a.get(t),s=this.#t.get(i);if(s)I(s);else{var r=this.#e.get(i);r&&(this.#t.set(i,r.effect),this.#e.delete(i),r.fragment.lastChild.remove(),this.anchor.before(r.fragment),s=r.effect)}for(const[a,n]of this.#a){if(this.#a.delete(a),a===t)break;const o=this.#e.get(n);o&&(m(o.effect),this.#e.delete(n))}for(const[a,n]of this.#t){if(a===i)continue;const o=()=>{if(Array.from(this.#a.values()).includes(a)){var l=document.createDocumentFragment();R(n,l),l.append(g()),this.#e.set(a,{effect:n,fragment:l})}else m(n);this.#t.delete(a)};this.#r||!s?O(n,o,!1):o()}}};ensure(t,i){var s=b,r=B();if(i&&!this.#t.has(t)&&!this.#e.has(t))if(r){var a=document.createDocumentFragment(),n=g();a.append(n),this.#e.set(t,{effect:w(()=>i(n)),fragment:a})}else this.#t.set(t,w(()=>i(this.anchor)));if(this.#a.set(s,t),r){for(const[o,c]of this.#t)o===t?s.skipped_effects.delete(c):s.skipped_effects.add(c);for(const[o,c]of this.#e)o===t?s.skipped_effects.delete(c.effect):s.skipped_effects.add(c.effect);s.add_callback(this.#s)}else k&&(this.anchor=y),this.#s()}}function ce(e,t,...i){var s=new $(e);D(()=>{const r=t()??null;s.ensure(r,r&&(a=>r(a,...i)))},G)}function le(e){return(t,...i)=>{var s=e(...i),r;if(k)r=y,C();else{var a=s.render().trim(),n=W(a);r=z(n),t.before(r)}const o=s.setup?.(r);j(r,r),typeof o=="function"&&q(o)}}export{$ as B,H as a,te as b,le as c,Y as d,oe as e,ae as f,ie as g,Z as h,se as i,re as n,ne as o,Q as r,ce as s};
